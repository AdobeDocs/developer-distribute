{"version":3,"file":"4d23254d-26238f018d2382c06a9a.js","mappings":"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","sources":["webpack://adobe-dev-distribution/./src/@adobe/gatsby-theme-aio/components/SideNav/index.js"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link as GatsbyLink } from 'gatsby';\nimport { isBrowser, isExternalLink, getExternalLinkProps, MOBILE_SCREEN_WIDTH } from '@adobe/gatsby-theme-aio/src/utils';\nimport { css } from '@emotion/react';\nimport classNames from 'classnames';\nimport '@spectrum-css/sidenav';\nimport nextId from 'react-id-generator';\nimport { ChevronRight } from '@adobe/gatsby-theme-aio/src/components/Icons';\nimport { AnchorButton } from '@adobe/gatsby-theme-aio/src/components/AnchorButton';\n\nconst SideNav = ({ mainNavPages, selectedPages, selectedSubPages, setShowSideNav }) => {\n  const [expandedPages, setExpandedPages] = useState([]);\n  const [expandedMenus, setExpandedMenus] = useState([]);\n  const [sideNavClick, setSideNavClick] = useState(false);\n  const [mobileView, setMobileView] = useState(false);\n\n  // If one page has header enabled, use header navigation type for all navigation items\n  const hasHeader = selectedSubPages.some(page => page.header);\n  const isMultiLevel = selectedSubPages.some(page => page?.pages?.length > 0);\n  const ref = useRef(null);\n  const handleClickOutside = event => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      // reset it when user did not click on the side nav.\n      setSideNavClick(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (window.innerWidth <= parseInt(MOBILE_SCREEN_WIDTH)) {\n      setMobileView(true);\n    } else {\n      setMobileView(false);\n    }\n    window.addEventListener('resize', () => {\n      if (window.innerWidth <= parseInt(MOBILE_SCREEN_WIDTH)) {\n        setMobileView(true);\n      } else {\n        setMobileView(false);\n      }\n    });\n  }, []);\n\n  const renderSubtree = (pages, level) =>\n    pages\n      .filter(page => page.title)\n      .map((page, index) => {\n        const isSelected = selectedPages.find(selectedItem => selectedItem === page);\n        const id = nextId();\n        const pageHref = page.href ? page.href : page.menu[0].href;\n\n        if (isSelected && !sideNavClick && !expandedPages.includes(pageHref)) {\n          setExpandedPages(pages => [...pages, pageHref]);\n        }\n\n        return (\n          <li\n            key={index}\n            role=\"treeitem\"\n            aria-level={level}\n            aria-expanded={page.header || expandedPages.includes(pageHref)}\n            css={css`\n              &:not(.is-expanded) .spectrum-SideNav {\n                display: none;\n              }\n\n              &:first-of-type .spectrum-SideNav-heading {\n                margin-top: 0;\n              }\n            `}\n            className={classNames([\n              'spectrum-SideNav-item',\n              { 'is-expanded': page.header || expandedPages.includes(pageHref) },\n              { 'is-selected': selectedPages[selectedPages.length - 1] === page && isSelected },\n            ])}>\n            {page.header ? (\n              <h2 className=\"spectrum-SideNav-heading\" id={id}>\n                {page.title}\n              </h2>\n            ) : isExternalLink(pageHref) ? (\n              <a\n                {...getExternalLinkProps(pageHref)}\n                href={pageHref}\n                className=\"spectrum-SideNav-itemLink\">\n                {page.title}\n              </a>\n            ) : (\n              <GatsbyLink\n                onClick={() => {\n                  setSideNavClick(true);\n                  if (page?.pages?.length && !page.header) {\n                    if (expandedPages.includes(pageHref)) {\n                      setExpandedPages(pages => pages.filter(href => href !== pageHref));\n                    } else {\n                      setExpandedPages([...expandedPages, pageHref]);\n                    }\n                  } else {\n                    setShowSideNav(false);\n                  }\n                }}\n                to={pageHref}\n                className=\"spectrum-SideNav-itemLink\">\n                {page.title}\n                {page.pages && page.pages.length > 0 ? (\n                  <ChevronRight\n                    css={css`\n                      position: absolute;\n                      right: 0px;\n                      width: var(--spectrum-global-dimension-size-125) !important;\n                      height: var(--spectrum-global-dimension-size-125) !important;\n                      margin-left: var(--spectrum-global-dimension-size-100);\n                      transition: transform var(--spectrum-global-animation-duration-100)\n                        ease-in-out;\n                      ${expandedPages.includes(pageHref) && `transform: rotate(90deg);`}\n                    `}\n                  />\n                ) : null}\n              </GatsbyLink>\n            )}\n            {page.pages && (\n              <ul\n                className=\"spectrum-SideNav\"\n                role=\"group\"\n                css={css`\n                  ${level > 1\n                    ? `\n                    & > li > a {\n                      padding-left: calc(${\n                        level + 1\n                      } * var(--spectrum-global-dimension-size-150)) !important;\n                    }\n                  `\n                    : ''}\n                `}\n                {...(page.heading ? { 'aria-labelledby': id } : {})}>\n                {renderSubtree(page.pages, level + 1)}\n              </ul>\n            )}\n          </li>\n        );\n      });\n\n  const renderMenuTree = (pages, level) =>\n    pages\n      .filter(page => page.title)\n      .map((page, index) => {\n        const isSelected = selectedPages.find(selectedItem => selectedItem === page);\n        const id = nextId();\n        const pageHref = page.href ? page.href : `#${page.title.toLowerCase()}`;\n\n        if (isSelected && !sideNavClick && !expandedMenus.includes(pageHref)) {\n          setExpandedMenus(pages => [...pages, pageHref]);\n        }\n\n        return (\n          <li\n            key={index}\n            role=\"treeitem\"\n            aria-level={level}\n            aria-expanded={page.header || expandedMenus.includes(pageHref)}\n            css={css`\n              &:not(.is-expanded) .spectrum-SideNav {\n                display: none;\n              }\n\n              &:first-of-type .spectrum-SideNav-heading {\n                margin-top: 0;\n              }\n            `}\n            className={classNames([\n              'spectrum-SideNav-item',\n              { 'is-expanded': page.header || expandedMenus.includes(pageHref) },\n              { 'is-selected': selectedPages[selectedPages.length - 1] === page && isSelected },\n            ])}>\n            {page.header ? (\n              <h2 className=\"spectrum-SideNav-heading\" id={id}>\n                {page.title}\n              </h2>\n            ) : isExternalLink(pageHref) ? (\n              <a\n                {...getExternalLinkProps(pageHref)}\n                href={pageHref}\n                className=\"spectrum-SideNav-itemLink\">\n                {page.title}\n              </a>\n            ) : (\n              <GatsbyLink\n                onClick={() => {\n                  setSideNavClick(true);\n                  if (page?.menu?.length && !page.header) {\n                    if (expandedMenus.includes(pageHref)) {\n                      setExpandedMenus(pages => pages.filter(href => href !== pageHref));\n                    } else {\n                      setExpandedMenus([...expandedMenus, pageHref]);\n                    }\n                  } else {\n                    setShowSideNav(false);\n                  }\n                }}\n                to={pageHref}\n                className=\"spectrum-SideNav-itemLink\">\n                {page.title}\n                {page.menu && page.menu.length > 0 ? (\n                  <ChevronRight\n                    css={css`\n                      position: absolute;\n                      right: 0px;\n                      width: var(--spectrum-global-dimension-size-125) !important;\n                      height: var(--spectrum-global-dimension-size-125) !important;\n                      margin-left: var(--spectrum-global-dimension-size-100);\n                      transition: transform var(--spectrum-global-animation-duration-100)\n                        ease-in-out;\n                      ${expandedMenus.includes(pageHref) && `transform: rotate(90deg);`}\n                    `}\n                  />\n                ) : null}\n              </GatsbyLink>\n            )}\n            {page.menu && (\n              <ul\n                className=\"spectrum-SideNav\"\n                role=\"group\"\n                css={css`\n                  ${level > 1\n                    ? `\n                    & > li > a {\n                      padding-left: calc(${\n                        level + 1\n                      } * var(--spectrum-global-dimension-size-150)) !important;\n                    }\n                  `\n                    : ''}\n                `}\n                {...(page.heading ? { 'aria-labelledby': id } : {})}>\n                {renderMenuTree(page.menu, level + 1)}\n              </ul>\n            )}\n          </li>\n        );\n      });\n\n  return (\n    <nav\n      ref={ref}\n      id=\"side-menu\"\n      role=\"navigation\"\n      aria-label=\"Primary\"\n      css={css`\n        margin-top: var(--spectrum-global-dimension-size-800);\n\n        @media screen and (max-width: ${MOBILE_SCREEN_WIDTH}) {\n          margin-top: var(--spectrum-global-dimension-size-400);\n        }\n      `}>\n      <div\n        css={css`\n          box-sizing: border-box;\n          padding: var(--spectrum-global-dimension-size-400);\n          overflow: auto;\n          height: calc(100vh - var(--spectrum-global-dimension-size-800));\n        `}>\n        {/* The section below is the alternative top menu */}\n        {mobileView && (\n          <>\n            <p>Global Navigation</p>\n            <ul\n              role=\"tree\"\n              aria-label=\"Global Navigation\"\n              className={classNames('spectrum-SideNav', 'spectrum-SideNav--multiLevel')}>\n              {renderMenuTree(mainNavPages, 1)}\n              <li\n               css={css`\n                margin-bottom: 5px;\n               `}>               \n                <AnchorButton variant=\"accent\" style=\"fill\" href=\"/distribute\" id={'distributeId'} tabIndex=\"0\">\n                  <span class=\"spectrum-Button-label\">Distribute</span>\n                </AnchorButton>\n              </li>\n              <li>\n                <AnchorButton variant=\"primary\" href=\"/console\" id={'consoleId'} tabIndex=\"1\">\n                    Console\n                </AnchorButton>\n              </li>\n            </ul>\n            {selectedSubPages.length > 0 && (\n              <>\n                <hr></hr>\n                <p>Table of contents</p>\n              </>\n            )}\n          </>\n        )}\n\n        {/* The section below is what used to be the sidenav with documentation subpages */}\n        {selectedSubPages.length > 0 && (\n          <ul\n            role=\"tree\"\n            aria-label=\"Table of contents\"\n            className={classNames('spectrum-SideNav', {\n              'spectrum-SideNav--multiLevel': isMultiLevel && !hasHeader,\n            })}>\n            {renderSubtree(selectedSubPages, 1)}\n          </ul>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nSideNav.propTypes = {\n  mainNavPages: PropTypes.array,\n  selectedPages: PropTypes.array,\n  selectedSubPages: PropTypes.array,\n  setShowSideNav: PropTypes.func,\n};\n\nexport { SideNav };"],"names":["_ref","name","styles","_ref2","_ref3","_ref4","SideNav","_ref5","mainNavPages","selectedPages","selectedSubPages","setShowSideNav","expandedPages","setExpandedPages","useState","expandedMenus","setExpandedMenus","sideNavClick","setSideNavClick","mobileView","setMobileView","hasHeader","some","page","header","isMultiLevel","_page$pages","pages","length","ref","useRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","window","innerWidth","parseInt","MOBILE_SCREEN_WIDTH","renderSubtree","level","filter","title","map","index","isSelected","find","selectedItem","id","nextId","pageHref","href","menu","includes","concat","_toConsumableArray","___EmotionJSX","key","role","css","className","classNames","isExternalLink","_extends","getExternalLinkProps","GatsbyLink","onClick","_page$pages2","to","ChevronRight","heading","renderMenuTree","toLowerCase","_page$menu","React","AnchorButton","variant","style","tabIndex","class"],"sourceRoot":""}